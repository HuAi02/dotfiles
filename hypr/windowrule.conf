##################
### WINDOW RULE###
##################

# Float specific settings
windowrule {
    name = floating-decorations
    rounding = 0
    border_size = 2
    border_color = 
    border_color = rgb(404040) rgb(404040) 0deg rgb(404040) rgb(404040) 0deg override
    decorate = on

    match:float = true
  }

# Ignore maximize command
windowrule {
    name = suppress-maximize
    suppress_event = maximize

    match:class = *
  }

# Make applications float
windowrule = tag +pleasefloat, match:class blueman-manager
windowrule = tag +pleasefloat, match:class nm-connection-editor
windowrule = tag +pleasefloat, match:class org.fcitx.fcitx5-config-qt
windowrule = tag +pleasefloat, match:class org.pulseaudio.pavucontrol
windowrule = tag +pleasefloat, match:class app.drey.Warp
windowrule {
    name = please-float
    float = on
    size = 800 600
    opacity = 0.9

    match:tag = pleasefloat
  }

# Change size of calculator
windowrule {
    name = calculator
    float = on
    keep_aspect_ratio = on

    match:class = org.gnome.Calculator
  }

# Change opentabletdriver size
windowrule {
    name = table_driver
    float = on
    size = 1600 900
    center = on
    opacity = 0.9

    match:class = OpenTabletDriver.UX
  }

# Enhancing image viewing experience
windowrule = tag +picture, match:class gwenview
windowrule = tag +picture, match:class org.gnome.Loupe
windowrule {
    name = picture-viewing
    float = on
    center = on
    size = 1600 900
    opaque = on
    keep_aspect_ratio = on

    match:tag = picture
  }

# Media players
windowrule = tag +media, match:class mpv
windowrule {
    name = media
    float = on
    center = on
    size = 1600 900
    opaque = on
    keep_aspect_ratio = on

    match:tag = media
  }

windowrule {
    name = vlc
    fullscreen_state = 3

    match:class = vlc
  }

# Make Firefox opaque when YouTube video is playing
windowrule = opacity 1.0 override 1.0 override, match:title .*- YouTube â€”.*

windowrule = match:title Plex, opaque on

# PIP support
windowrule = tag +popups, match:title .*Picture in Picture.*
windowrule = tag +popups, match:title .*Picture-in-Picture.*
windowrule {
    name = PIP
    float = on
    center = on
    pin = on
    opaque = on
    keep_aspect_ratio = on
    size = 1600 900

    match:tag = popups
  }

# Spotify pop up broken but Idc
# windowrule = tag +spotify match:class: Chromium-browser
# windowrule {
#     name = spotify
#     float = on
#     pin = on
#     opacity = 1 0 1
#     no_blur = on
#     move = 810 -5
#     size = 305 55
#
#     match:tag = spotify
#   }

# Rules for system dialogues and pop-ups
windowrule = tag +dialogues, match:title .*Properties
windowrule = tag +dialogues, match:title Open.*
windowrule = tag +dialogues, match:title Select.*
windowrule = tag +dialogues, match:title Choose.*
windowrule = tag +dialogues, match:title Please choose.*
windowrule = tag +dialogues, match:title Save.*
windowrule = tag +dialogues, match:title .*Copying.*
windowrule = tag +dialogues, match:title .*Upload.*
windowrule = tag +dialogues, match:class setup.tmp
windowrule = tag +dialogues, match:class quicksfv.exe
windowrule = tag +dialogues, match:class dxwsetup.exe
windowrule = tag +dialogues, match:title Add Connection
windowrule = tag +dialogues, match:title New VM
windowrule = tag +dialogues, match:title Locate
windowrule = tag +dialogues, match:title Enter.*
windowrule = tag +dialogues, match:title File Management.*
windowrule = tag +dialogues, match:title .*mp4.*
windowrule = tag +dialogues, match:title .*to save.*
windowrule = tag +dialogues, match:title .*File conflict.*
windowrule = tag +dialogues, match:class hyprpolkitagent
windowrule = tag +dialogues, match:title Lutris settings
windowrule = tag +dialogues, match:title Add a new game
windowrule {
    name = dialogues
    float = on
    center = on
    dim_around = on

    match:tag = dialogues
  }

# Game support
windowrule = tag +games, match:class steam_app.*
windowrule = tag +games, match:class Stray
windowrule = tag +games, match:class DARK SOULS
windowrule = tag +games, match:class Red Dead Redemption
windowrule {
    name = games
    idle_inhibit = on
    fullscreen = on
    allows_input = on
    opaque = on
    content = game
  }

# VM support
windowrule = match:title 'on QEMU/KVM', opaque on
windowrule = match:class looking-glass-client, fullscreen on

# Check if window is XWayland
# windowrulev2 = bordercolor rgb(555555),xwayland:1
